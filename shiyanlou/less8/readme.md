### 数组

> 数组命名

1. 数组名的命名规则和变量名相同，遵循标识符命名规则；
2. 定义数组时，需要指定数组中元素的个数，方括号中的常量表达式用来表示元素的个数，即数组长度；
3. 常量表达式中可以包括常量和符号变量，如"int a[4*2]"是合法的，但是不能包括变量，如以下代码就是不合法的:
```
int n;
scanf("%d", &n);
int b[n];
```

> 一维数组初始化

为了让程序简洁，常在定义数组同时，给各数组元素赋值，这就是数组的初始化。

1. 在定义数组时对全部数组元素赋予初值：`int a[10] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};`

2. 给数组中的部分元素赋值：`int a[10] = {0, 1, 2};`；定义a数组有10个元素，但是花括号内只给了4个初值，这表示只给前4个元素赋初值，其余元素系统自动给其赋初值为0；


> 定义二维数组

二维数组的定义方法和一维数组类似，其一般形式是：类型说明符 数组名[常量表达式][常量表达式]

```
float a[3][4];
```

C语言中，二维数组在内存中存放的顺序是按行存放的，即在内存中先顺序存放第一行元素，接着再存放第二行元素。

如上代码a[0]就是第0行，a[1]就是第1行，以此类推。

> 二维数组的初始化

1. 分行给二维数组赋初值：`int a[3][4] = {{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}};`；这种赋值方法比较直观，把第一个花括号的值给第0行元素，第二个花括号的值给第1行元素....

2. 可以将所有的数据放在一个花括号内：`int a[3][4] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};`；效果和1相同。但是显然第一种方式较好，一行对一行，界限很清楚。第二种方法如果数据多，则会写成一大片，容易遗漏；

3. 可以对部分元素赋值：`int a[3][4] = {{1}, {3}, {5}};`；它的作用是只给各行第0列的元素赋初值，其他元素默认为0。赋初值后的结果为：

```
1 0 0 0
3 0 0 0
5 0 0 0
```

> 字符数组的定义

字符型数据是以字符的ASCII代码存储在存储单元中的，一般占一个字节。由于ASCII代码属于整数形式，因此，把字符型归纳为整数类型中的一种。

注意：C语言中没有字符串类型，字符串都是存储在字符型数组中的。

定义字符数组的方法与定义数值型数组的方法类似：

```
char c[10];
```

以上就定义了c为字符数组，包含10个元素。


> 字符数组的初始化

把各种字符以此赋给数组中各元素：

```
char c[10] = {'I', ' ', 'a', 'm', ' ', 'h', 'a', 'p', 'p', 'y'};
```

把这10个字符以此赋给c[0]~c[9]这10个元素。

注意：上面例子中花括号提供的初值个数（即字符个数）等于数组长度，倘若花括号中的提供初值个数大于数组长度，则会出现语法错误。倘若初值个数小于数组长度，则只将这些字符赋给数组中前面那些元素，其余元素自动定为空字符（即'\0'）。

```
char c[10] = {'I', ' ', 'l', 'o', 'v', 'e', ' ', 'c'};
```

在定义数组时可以省略数组长度，系统会自动根据处置个数确定数组长度。

```
char c[] = {'I', ' ', 'l', 'o', 'v', 'e', ' ', 'c'};
```

数组c的长度自动定为10。这种方式在不用人工去数字符的个数时，尤其在赋初值字符个数不多的情况下比较方便。


> 字符串和字符串结束标志

在C语言中，是将字符串作为字符数组来处理的。在平时的应用中，人们往往关心的是字符串的有效长度而不是字符数组的长度。为了测定字符串的实际长度，C语言规定了一个“字符串结束标志（'\0'），以字符'\0'作为结束标志。如果字符数组中存在若干字符，前面9个字符都不是空字符（'\0'），而第10个字符是'\0'，则认为数组中有一个字符串，其有效字符为9个。

C系统在用字符数组存储字符串常量时会自动加一个'\0'作为结束符。

```
printf("Hello");
```

在执行以上代码时系统怎么知道该输出到哪里为止呢？实孙上，在向内存中存储时，系统自动在最后一个字符'u'后面加一个'\0'作为字符串结束标志。在执行printf函数时，每输出一个字符检查一次，看下一个字符是否为'\0'，遇到'\0'就停止输出。

有了上述理解，在对字符数组初始化的方法上面有以下补充

```
char[] = {"I love you"};
```

以上代码也可以省去花括号

```
char[] = "I love you";
```

这里不像之前单个字符作为字符数组的初值，而是用字符串作为初值（字符串作初值是用双引号而不是单引号）。这种方法更直观、更方便。

注意：此时数缚的长度是17，而不是16，因为字符串常量的最后系统自动加了一个'\0'。上面的初始化与下面的初始化等价。

```
char c[] = {'I', ' ', 'l', 'o', 'v', 'e', ' ', 'y', 'o', 'u', '\0'};
```


### 使用字符串处理函数

C语言函数库中提供了一些用来专门处理字符中的函数。

> puts函数-输出字符串的函数

puts(字符数组)：其作用是把一个字符串输出到终端，用得不是很多。

> gets函数-输入字符串的函数

其作用是从终端输入一个字符串到字符数组，并且得到一个函数值。

注意：gets比较危险，不推荐使用

> strcat函数-字符串连接函数

其一般形式：strcat(字符数组1, 字符数组2);

其作用是把两个字符数组中的字符串连接起来，把字符串2接到字符串1后面，结果放到字符串1中。

注意：
1. 连接两个字符串后面都有'\0'，连接时将字符串1后面的'\0'取消，只在新串后面保留'\0'；

2. 字符串1必须足够大，以便于容纳字符串2。如果在定义时定义为`char str1[] = "People's Republic of "；就会出现问题，因为长度不够。


> strlen函数-测字符串长度的函数

一般形式：strlen(字符数组)

它是测量字符串长度的函数。函数的值为字符串中实际长度（不包含'\0'在内）。


> strcpy和strncpy-字符串复制函数

一般形式：strcpy(字符数组1, 字符数组2);

作用是将字符串2复制到字符串1中。

注意：
1. 字符数组1必须定义的足够大，以便容纳被复制的字符串2；

2. 字符数组1必须写成数组名形式（如str1），字符串2可以使用字符数组名，也可以是一个字符常量，如`strcpy(str1, "China");`；

3. 不能用赋值语句将一个字符串常量直接给一个字符数组，如下是错误的：

```
str1 = "Hello"; // 错误，企图用赋值语句将一个字符串常量直接赋值给一个数组
str1 = str1; // 错误，企图用赋值语句将一个字符数组直接赋给另一个字符数组
```

> strcmp-字符串比较函数
