# 局部变量与全局变量

函数中定义的变量称为局部变量(Local Variable)，由于形参相当于函数中定义的变量，所以形参与相当于局部变量。这里的“局部”有
两个含义：

1.	某个函数中定义的变量不能被另一个函数使用；

2.	每次调用函数时局部变量都表示不同的存储空间。局部变量是在每次函数调用时分配存储空间，每次函数返回时释放存储空间的；


全局变量定义在所有的函数体之外，它们在整个程序开始之前分配存储空间，在程序结束时释放存储空间，所有函数都可以通过全局变
量名访问它们。**虽然全局变量用起来很方便，但一定要慎用，能用函数传参代替的就不要用全局变量。**

**注意**：局部变量可以用任意类型相符的表达式来初始化，而全局变量只能用常量表达式初始化。例如，比较以下两种初始化全局
变量 pi 的方式，第一种是合法的，第二种是不合法的：

```
double pi = 3.14 + 0.0016;
```

```
double pi = acos(-1.0);
```

因为全局变量的初始值要求保存在编译生成的目标代码中，所以必须在**编译时**就能计算出来，然而上面第二种初始化的值必须在生
成了目标代码之后在**运行时**调用 acos 函数才能知道，所以不能用来初始化全局变量。注意区分编译时和运行时的概念。为了方便
编译器实现这一限制，C 语言从语法上规定了全局变量只能用常量表达式来初始化，因此下面这种全局变量初始化也是不合法的：

```
int minute = 360;
int hour = minute / 60;
```

虽然在编译时也可以计算出 hour 的初始值，但 minute / 60 不是常量表达式，不符合语法规定。

如果全局变量在定义时不初始化，则初始值是 0，也就是说，整型的就是 0，字符型的就是'\0'，浮点型的就是 0.0。如果局部变量
在定义时不初始化，则初始值是不确定的，所以，**局部变量在使用前一定要先赋值，不管是通过初始化还是赋值运算符**，如果读
取一个不确定的值来使用肯定会引入 Bug。

如果全局变量在定义时不初始化，则初始值是 0，也就是说，整型的就是 0，字符型的就是'\0'，浮点型的就是 0.0。如果局部变量
在定义时不初始化，则初始值是不确定的，所以，**局部变量在使用前一定要先赋值，不管是通过初始化还是赋值运算符**，如果读
取一个不确定的值来使用肯定会引入 Bug。
